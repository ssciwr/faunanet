version: '3'
services:
  faunanet:
    build: 
      context: .
      args:
        INSTALL_OPTION: ${tensorflow_version}
    volumes:
      - ~/faunanet_data:/home/faunanet/faunanet_data
      - ~/faunanet_output:/home/faunanet/faunanet_output
      - ~/faunanet_config:/home/faunanet/faunanet_config

  faunanet_record:
    image: faunanet_record:latest
    volumes:
      - ./faunanet_data_aux1:/home/faunanet/faunanet_data
      - ./faunanet_config_aux1:/home/faunanet/faunanet_config
    devices:
      - /dev/snd:/dev/snd # this needs to be the microphone device